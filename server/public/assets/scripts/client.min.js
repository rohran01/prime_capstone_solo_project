var app=angular.module("landingApp",["ngRoute"]);app.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/login.html",controller:"LoginController"}).when("/register",{templateUrl:"views/register.html",controller:"RegisterController"}).when("/login",{templateUrl:"views/login.html",controller:"LoginController"}).when("/dailyLogs",{templateUrl:"views/dailyLogs.html",controller:"DailyLogsController"}).when("/goals",{templateUrl:"views/goals.html",controller:"GoalsController"}).when("/myFoods",{templateUrl:"views/myFoods.html",controller:"MyFoodsController"}).when("/stats",{templateUrl:"views/stats.html",controller:"StatsController"}),b.html5Mode(!0)}]),app.controller("MainController",["$scope","UserService",function(a,b){a.userInfo=b.userInfo,a.headerTrue=function(){}}]),app.controller("RegisterController",["$scope","$http","$location","UserService",function(a,b,c,d){a.newUser={},a.registerUser=function(){b.post("/registerUser",a.newUser).then(function(a){200==a.status&&c.path("login")})}}]),app.controller("LoginController",["$scope","$http","$location","UserService",function(a,b,c,d){a.userLogin={},a.userInfo=d.userInfo,a.loginUser=function(){b.post("/loginUser",a.userLogin).then(function(b){200==b.status?(console.log("object to log in: ",a.userLogin.username),d.getUserInfo(a.userLogin.username),c.path("dailyLogs")):c.path("login")})}}]),app.controller("DailyLogsController",["$scope","$http","UserService",function(a,b,c){a.userInfo=c.userInfo;var d=c.userInfo;console.log("from daily logs:",d)}]),app.controller("GoalsController",["$scope","$http","UserService",function(a,b,c){}]),app.controller("MyFoodsController",["$scope","$http","UserService",function(a,b,c){a.myFood={},a.userInfo=c.userInfo,console.log("user info from myFoods",a.userInfo),a.allMyFoods=a.userInfo.data.myFoods,a.addMyFood=function(){console.log(a.myFood);var d={username:a.userInfo.data.username,foodToAdd:a.myFood};b.put("/userInfo/addFood",d).then(function(a){console.log(a)}),a.displayMyFoods(),c.getUserInfo(a.userInfo.data.username)},a.displayMyFoods=function(){a.allMyFoods=a.userInfo.data.myFoods,console.log("allMyFoods",a.allMyFoods),c.getUserInfo(a.userInfo.data.username)},a.displayMyFoods()}]),app.controller("StatsController",["$scope","$http","UserService",function(a,b,c){a.userInfo=c.userInfo,a.userInfo.data.isLoggedIn=!0}]),app.factory("UserService",["$http",function(a){function b(b){console.log("loginObject:",b,typeof b);var d={params:{username:b}};console.log("username:",d,typeof d),a.get("/userInfo",d).then(function(a){c.data=a.data,c.data.isLoggedIn=!0,console.log(c)})}var c={};return{getUserInfo:b,userInfo:c}}]);