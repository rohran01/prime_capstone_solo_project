var app=angular.module("landingApp",["ngRoute"]),globalUser,header=!0;app.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/login.html",controller:"LoginController"}).when("/register",{templateUrl:"views/register.html",controller:"RegisterController"}).when("/login",{templateUrl:"views/login.html",controller:"LoginController"}).when("/dailyLogs",{templateUrl:"views/dailyLogs.html",controller:"DailyLogsController"}).when("/goals",{templateUrl:"views/goals.html",controller:"GoalsController"}).when("/myFoods",{templateUrl:"views/myFoods.html",controller:"MyFoodsController"}).when("/stats",{templateUrl:"views/stats.html",controller:"StatsController"}),b.html5Mode(!0)}]),app.controller("RegisterController",["$scope","$http","$location",function(a,b,c){a.header=header,a.newUser={},a.registerUser=function(){console.log("click!"),console.log(a.newUser),b.post("/registerUser",a.newUser).then(function(a){200==a.status&&c.path("login")})}}]),app.controller("LoginController",["$scope","$http","$location","UserService",function(a,b,c,d){a.header=header,a.userLogin={},a.userInfo=d.userInfo,a.loginUser=function(){console.log(a.userLogin),b.post("/loginUser",a.userLogin).then(function(b){console.log(b),200==b.status?(header=!1,globalUser=a.userLogin.username,console.log(globalUser),d.getUserInfo(a.userLogin),c.path("dailyLogs")):c.path("login")})}}]),app.controller("DailyLogsController",["$scope","$http","UserService",function(a,b,c){a.header=header,a.userInfo=c.userInfo;var d=c.userInfo;console.log("from daily logs:",d)}]),app.controller("GoalsController",["$scope","$http",function(a,b){a.header=header}]),app.controller("MyFoodsController",["$scope","$http",function(a,b){a.header=header,a.myFood={},a.allmyFoods=[],a.addMyFood=function(){console.log(a.myFood);var c={username:globalUser,foodToAdd:a.myFood};b.put("/userInfo/addFood",c).then(function(a){console.log(a)})},a.getMyFoods=function(){console.log(globalUser),b.get("/userInfo/myFoods",globalUser).then(function(a){console.log(a)})}}]),app.controller("StatsController",["$scope","$http",function(a,b){a.header=header}]),app.factory("UserService",["$http",function(a){function b(b){var d={params:{username:b.username}};console.log("username:",d),a.get("/userInfo",d).then(function(a){c.data=a.data,c.data.isLoggedIn=!0,console.log(c)})}var c={};return{getUserInfo:b,userInfo:c}}]);